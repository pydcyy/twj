<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>个人信息</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<link rel="stylesheet" href="css/mui.min.css"/>
	<link rel="stylesheet" href="css/mui-icons-extra.css"/>
	<link rel="stylesheet" href="css/app.css" />
	<link rel="stylesheet" href="css/myinfo.css"/>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/mui.min.js"></script>
	<script type="text/javascript" src="js/common.js"></script>

</head>
<body>
	<header class="mui-bar mui-bar-nav">
		<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		<h1 class="mui-title">个人信息</h1>
	</header>
	<div class="mui-page-content">
		<div class="mui-scroll-wrapper">
			<div class="mui-scroll">
				<ul class="mui-table-view mui-table-view-chevron">
					<li class="mui-table-view-cell myavater" >
						<a href="#" class="mui-navigate-right">
							个人头像
							<span>
								<img src="picture/mubantx.jpg" alt="">
							</span>
						</a>
					</li>
					<li class="mui-table-view-cell" >
						<a href="#" class="mui-navigate-right" >
							用户名
							<span style="float: right;">
								<input type="text" name="nickname" id="nickname" readonly="readonly" value="小小" />
							</span>
						</a>
						
					</li>
					<!-- <li class="mui-table-view-cell" >
						<a href="#" class="mui-navigate-right" >
							登录密码
							<span style="float: right;">
								<input type="password" name="" id="" value="小小" />
							</span>
						</a>
					</li> -->
					
				</ul>
				
				<ul class="mui-table-view">
					<li class="mui-table-view-cell" style="text-align: center;" id="layout">
						<a>确认修改</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<script type="text/javascript">	
		(function($, doc) {
			var app = new Vue({
				el: '#pullrefresh',
				data: function() {
					return {
						goods:[],
					}
				},
				mounted: function(){
					this._init();
				},
				computed:{
					totalPrice:function(){
						var total = 0;
						this.goods.forEach(function(item, index) {
							total += item.total;						
						}) 
						
						return total;
					},
					totalNum:function(){
						var totalnum = 0;
						this.goods.forEach(function(item, index) {
							totalnum += parseInt(item.num);						
						}) 
						
						return totalnum;
					}
				},
				methods: {
					_init: function(){
						var that = this;
						$.plusReady(function() {	
							that.loadData();
							afterOpenView();
						})
					},
					pulldownRefresh: function(){
						appPage.endPullRefresh();
					},
					loadData:function(){
						var url = postUrl+"Home/member/user.html";
						var postData = {};
						var result = {
							data:{
								goods:[
									{id:"109",img:"picture/yqm.png",name:"我购买的商品名称",price:"8.8",num:"1"},
									{id:"109",img:"picture/yqm.png",name:"我购买的商品名称",price:"8.8",num:"2"},
									{id:"109",img:"picture/yqm.png",name:"我购买的商品名称",price:"8.8",num:"3"},
									{id:"109",img:"picture/yqm.png",name:"我购买的商品名称",price:"8.8",num:"4"},
									{id:"109",img:"picture/yqm.png",name:"我购买的商品名称",price:"8.8",num:"1"},
									{id:"109",img:"picture/yqm.png",name:"我购买的商品名称",price:"8.8",num:"1"},
								]
							}
						};
						var newgoods = result['data']['goods'];
						for(var i=0;i<newgoods.length;i++){
							newgoods[i]['total'] = parseInt(newgoods[i]['price']*newgoods[i]['num']*100)/100;
						}
						this.goods=newgoods;
					
						
	// 							diyAjax(url,postData,function(result){
	// 								console.log("获取用户中心信息");
	// 								if(result.code == 1){
	// 									log(result.data.userinfo);
	// 									var userinfojson = {};
	// 									userinfojson.data = result.data.userinfo;
	// 									render("#diva_wrap", "diva_view", userinfojson);
	// 									render("#divb_wrap", "divb_view", userinfojson);
	// 									render("#divc_wrap", "divc_view", userinfojson);
	// 									
	// 									$("body").on("tap", "#phoneline", function() {
	// 										var tel= userinfojson['data']['hotline'];
	// 										plus.device.dial(tel, true);
	// 									})
	// 								}
	// 							},function(xhr){
	// 								console.log("失败"+JSON.stringify(xhr));
	// 							})	
					}
				}
			});
			$.init({
				pullRefresh: {
					container: '#pullrefresh',
					down: { //下拉刷新
						callback: app.pulldownRefresh,
						style: $.os.android ? "circle" : "default"
					}
				}
			});
		}(mui, document))
	</script>
</body>
</html>